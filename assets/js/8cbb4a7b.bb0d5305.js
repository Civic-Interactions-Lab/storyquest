"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[6378],{51080:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});var i=s(74848),d=s(28453);const o={sidebar_position:3},r="JoinRoomPage",t={id:"api-specification/Frontend Documentation/join-room",title:"JoinRoomPage",description:"The JoinRoomPage component enables users to join an existing StoryQuest game session by scanning a QR code using their device camera. It provides user-friendly feedback, error handling, and a popup guide when scanning fails repeatedly.",source:"@site/docs/api-specification/Frontend Documentation/join-room.md",sourceDirName:"api-specification/Frontend Documentation",slug:"/api-specification/Frontend Documentation/join-room",permalink:"/storyquest/docs/api-specification/Frontend Documentation/join-room",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Ian Tyler Applebaum",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"CreateRoomPage",permalink:"/storyquest/docs/api-specification/Frontend Documentation/create-room"},next:{title:"Gameplay Page",permalink:"/storyquest/docs/api-specification/Frontend Documentation/gameplay-main"}},c={},a=[{value:"Key Features",id:"key-features",level:2},{value:"State Variables",id:"state-variables",level:2},{value:"Methods",id:"methods",level:2},{value:"<code>handleCapturedImage(imageData: string)</code>",id:"handlecapturedimageimagedata-string",level:3},{value:"<code>processQRCode(imageData: string)</code>",id:"processqrcodeimagedata-string",level:3},{value:"<code>handleJoinRoom(scannedRoomId: string)</code>",id:"handlejoinroomscannedroomid-string",level:3},{value:"<code>closeFailedPopup()</code>",id:"closefailedpopup",level:3},{value:"Hooks Used",id:"hooks-used",level:2},{value:"Components Used",id:"components-used",level:2},{value:"Accessibility",id:"accessibility",level:2},{value:"Example QR Code Format",id:"example-qr-code-format",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Dependencies",id:"dependencies",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"joinroompage",children:(0,i.jsx)(n.code,{children:"JoinRoomPage"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"JoinRoomPage"})," component enables users to join an existing StoryQuest game session by scanning a QR code using their device camera. It provides user-friendly feedback, error handling, and a popup guide when scanning fails repeatedly."]}),"\n",(0,i.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Live camera integration for QR code scanning"}),"\n",(0,i.jsxs)(n.li,{children:["Parses QR code to extract ",(0,i.jsx)(n.code,{children:"roomId"})," and ",(0,i.jsx)(n.code,{children:"storyTitle"})]}),"\n",(0,i.jsx)(n.li,{children:"Automatically redirects users to the gameplay room"}),"\n",(0,i.jsx)(n.li,{children:"Provides auditory and visual feedback using custom hooks"}),"\n",(0,i.jsx)(n.li,{children:"Displays a helpful popup after failed attempts"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"state-variables",children:"State Variables"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"roomId"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Stores the decoded room ID from the QR code"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"errorMessage"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Displays any error messages to the user"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isProcessing"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Prevents concurrent processing of QR codes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"failedAttempts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Tracks how many failed QR scans have occurred"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"showFailedPopup"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Controls display of the instructional QR popup"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"handlecapturedimageimagedata-string",children:(0,i.jsx)(n.code,{children:"handleCapturedImage(imageData: string)"})}),"\n",(0,i.jsxs)(n.p,{children:["Processes image data captured from the camera and attempts to extract a QR code using ",(0,i.jsx)(n.code,{children:"jsQR"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"processqrcodeimagedata-string",children:(0,i.jsx)(n.code,{children:"processQRCode(imageData: string)"})}),"\n",(0,i.jsx)(n.p,{children:"Handles canvas creation, image drawing, QR decoding, and routing logic."}),"\n",(0,i.jsx)(n.h3,{id:"handlejoinroomscannedroomid-string",children:(0,i.jsx)(n.code,{children:"handleJoinRoom(scannedRoomId: string)"})}),"\n",(0,i.jsx)(n.p,{children:"Checks if the room exists in Firebase and redirects to the gameplay route if valid."}),"\n",(0,i.jsx)(n.h3,{id:"closefailedpopup",children:(0,i.jsx)(n.code,{children:"closeFailedPopup()"})}),"\n",(0,i.jsxs)(n.p,{children:["Resets ",(0,i.jsx)(n.code,{children:"failedAttempts"})," and hides the QR help popup."]}),"\n",(0,i.jsx)(n.h2,{id:"hooks-used",children:"Hooks Used"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useQuickTextToSpeech"}),": Announces instructions and feedback"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useButtonFeedback"}),": Plays sounds and handles button interaction feedback"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useSound"}),": Used to play a sound effect when joining a room"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"components-used",children:"Components Used"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<Camera />"}),": Custom camera feed and snapshot capture component"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<ExitButton />"}),": Exit/back button from homepage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<QRScanFailedPopup />"}),": Custom modal that shows guidance after repeated failed scans"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"accessibility",children:"Accessibility"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Instructions are provided using text-to-speech on button click"}),"\n",(0,i.jsx)(n.li,{children:"High-contrast and large visual instructions"}),"\n",(0,i.jsx)(n.li,{children:"Clear error messaging and retry prompts"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-qr-code-format",children:"Example QR Code Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"https://project-aac-game-team-b--storyquest-fcdc2.us-central1.hosted.app/Gameplay/ROOM_ID/STORY_TITLE\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import JoinRoomPage from './JoinRoom/page';\n\nexport default function App() {\n  return <JoinRoomPage />;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"firebase/firestore"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"jsQR"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"next/image"}),", ",(0,i.jsx)(n.code,{children:"next/link"})]}),"\n",(0,i.jsxs)(n.li,{children:["Custom components:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Camera"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ExitButton"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Custom hooks:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"useQuickTextToSpeech"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"useButtonClickSounds"})}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var i=s(96540);const d={},o=i.createContext(d);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);